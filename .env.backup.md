# =================================================================

# PROSPECTOR ENVIRONMENT CONFIG (HYDRA-ZERO v4.1 INTEGRATED)

# CLASIFICACIÓN: TOP SECRET // LOCAL & CLOUD HYBRID

# =================================================================

# -----------------------------------------------------------------

# 1. CORE & RUNTIME (RENDER + LOCAL)

# -----------------------------------------------------------------

# [NECESARIO EN RENDER] Render asigna esto dinámicamente.

PORT=3000

# [NECESARIO EN RENDER] Nivel de detalle de logs (Heimdall).

# Se fusionó la definición duplicada en una sola línea más robusta.

RUST_LOG=info,prospector_orchestrator=debug,prospector_miner=debug

# -----------------------------------------------------------------

# 2. SECURITY VAULT (SHARED SECRETS)

# -----------------------------------------------------------------

# [NECESARIO EN RENDER - BACKEND] Llave maestra para que los Workers reporten trabajo.

WORKER_AUTH_TOKEN=Netflix69

# [NECESARIO EN VERCEL - FRONTEND] Contraseña para el "Admin Guard" (UI de bloqueo).

NEXT_PUBLIC_ADMIN_PASSWORD=Netflix69

# [NECESARIO EN VERCEL - FRONTEND] Token por defecto para el cliente API si no hay sesión.

# Detectado en libs/infra/api-client-ts/src/lib/client.ts

NEXT_PUBLIC_API_TOKEN=Netflix69

# [OBSOLETO - NO ELIMINADO POR SEGURIDAD]

# ADMIN_API_KEY=cambia_esto_por_un_uuid_secreto_v4

# WORKER_AUTH_TOKEN=prospector_worker_secret_key_2025

# -----------------------------------------------------------------

# 3. DATABASE INFRASTRUCTURE (TURSO / LIBSQL)

# -----------------------------------------------------------------

# [NECESARIO EN RENDER - BACKEND] Conexión crítica.

# "libsql://" habilita HTTP/WebSocket seguro para entornos Serverless.

DATABASE_URL=libsql://prospector-cloud-db-prospector-btc.aws-us-east-1.turso.io

# [NECESARIO EN RENDER - BACKEND] Token JWT de autenticación para Turso.

TURSO_AUTH_TOKEN=eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJhIjoicnciLCJpYXQiOjE3NjUyOTU0MDUsImlkIjoiYWFiNDY3YjUtYTZjYi00YjhmLWFhYmEtNjk2YTVkNGU5MjdiIiwicmlkIjoiZTk2MWU2ZDUtZjljZS00NDQ1LTk5ZjAtMzAyYjQzZDQzNTJlIn0.B0fDSNGYs9vPN_GCJGvvOzleHtYeGAjuS-2eEgSNM1zRu9IwfB_6fQ5MCZe_OAlzjE13oHHHJP6AiWbE1nWeCw

# -----------------------------------------------------------------

# 4. FRONTEND CONNECTIVITY (VERCEL -> RENDER)

# -----------------------------------------------------------------

# [CRÍTICO - SELECCIÓN DE ENTORNO]

# Opción A: Desarrollo Local (Web habla con Backend en tu PC)

NEXT_PUBLIC_API_URL=http://localhost:3000/api/v1

# Opción B: Producción (Web en Vercel habla con Backend en Render)

# Descomenta esta línea en Vercel o para probar integración real

# NEXT_PUBLIC_API_URL=https://prospector-orchestrator.onrender.com/api/v1

# -----------------------------------------------------------------

# 5. AUTOMATION TOOLS (PROVISIONER / LOCAL SCRIPTS)

# -----------------------------------------------------------------

# [SOLO LOCAL] URL base del Orchestrator para que el Provisioner sepa a dónde enviar a los mineros.

ORCHESTRATOR_URL=https://prospector-orchestrator.onrender.com

# [SOLO LOCAL] URL de descarga del binario estático (Debe ser accesible públicamente).

# Actualiza esto tras subir el release a GitHub.

MINER_BINARY_URL="https://github.com/nft-razt/prospector-btc/releases/download/v3.5.0-hydra/miner-worker"

# [SOLO LOCAL] Target para Playwright.

COLAB_URL=https://colab.research.google.com/

# [NUEVO - REQUERIDO POR TOOLS/CONFIG.TS]

WORKER_COUNT=1
HEADLESS=false

# -----------------------------------------------------------------

# 6. AUTHENTICATION (NEXT-AUTH V5)

# -----------------------------------------------------------------

# [NECESARIO EN VERCEL] Secreto para encriptar sesiones.

# Generar con: openssl rand -base64 32

AUTH_SECRET="ejecuta_openssl_rand_base64_32_y_pega_aqui"

# [NECESARIO EN VERCEL] Credenciales OAuth de Google Cloud Console.

AUTH_GOOGLE_ID="tu-cliente-id-google"
AUTH_GOOGLE_SECRET="tu-cliente-secret-google"

# [OPCIONAL] URL base para Auth en producción (Vercel suele inferirla)

# AUTH_URL=https://tu-proyecto.vercel.app

FILTER_URL="https://github.com/nft-razt/prospector-btc/releases/download/v3.5.0-hydra/utxo_filter.bin"
